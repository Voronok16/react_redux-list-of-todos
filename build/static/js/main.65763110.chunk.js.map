{"version":3,"sources":["store/store.js","components/User/User.js","components/TodoItem/TodoItem.js","components/TodoList/TodoList.js","App/App.js","App/index.js","index.js"],"names":["ACTION_TYPES","ADD_DATA","LOAD_DATA","SORT_DATA","COMPLETE_DATA","loadData","data","type","payload","initialState","isLoading","isReady","getData","dispatch","store","Promise","all","fetch","then","_ref","_ref2","Object","slicedToArray","res1","res2","json","_ref3","_ref4","todos","users","map","todo","_objectSpread","user","find","person","id","userId","createStore","state","arguments","length","undefined","action","toConsumableArray","sort","a","b","title","localeCompare","completed","applyMiddleware","thunk","User","react_default","createElement","className","name","href","email","phone","website","TodoItem","User_User","TodoList","dataFromServer","console","log","item","components_TodoItem_TodoItem","key","App","this","props","onClick","sortData","completeData","components_TodoList_TodoList","React","PureComponent","EnhancedApp","connect","ReactDOM","render","es","document","getElementById"],"mappings":"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","file":"static/js/main.65763110.chunk.js","sourcesContent":["import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst ACTION_TYPES = {\n  ADD_DATA: 'DATA::ADD',\n  LOAD_DATA: 'LOAD::ADD',\n  SORT_DATA: 'SORT::DATA',\n  COMPLETE_DATA: 'COMPLETE_DATA',\n};\n\nexport const addData = data => ({\n  type: ACTION_TYPES.ADD_DATA,\n  payload: data,\n});\n\nexport const sortData = data => ({\n  type: ACTION_TYPES.SORT_DATA,\n  payload: data,\n});\n\nexport const completeData = data => ({\n  type: ACTION_TYPES.COMPLETE_DATA,\n  payload: data,\n});\n\nconst loadData = data => ({\n  type: ACTION_TYPES.LOAD_DATA,\n  payload: data,\n});\n\nconst initialState = {\n  data: [],\n  isLoading: false,\n  isReady: true,\n};\n\nexport const getData = () => (dispatch) => {\n  store.dispatch(loadData());\n  Promise.all([\n    fetch('https://jsonplaceholder.typicode.com/todos'),\n    fetch('https://jsonplaceholder.typicode.com/users'),\n  ])\n    .then(([res1, res2]) => Promise.all([res1.json(), res2.json()]))\n    .then(([todos, users]) => store.dispatch(addData(todos.map(todo => (\n      {\n        ...todo,\n        user: users.find(person => person.id === todo.userId),\n      }\n    ))),\n    store.dispatch(loadData())));\n};\n\nfunction reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.ADD_DATA: {\n      return {\n        ...state,\n        data: action.payload,\n      };\n    }\n    case ACTION_TYPES.LOAD_DATA: {\n      return {\n        ...state,\n        isLoading: !state.isLoading,\n      };\n    }\n    case ACTION_TYPES.SORT_DATA: {\n      return {\n        ...state,\n        data: [...state.data].sort((a, b) => (a.title.localeCompare(b.title)\n        )),\n      };\n    }\n    case ACTION_TYPES.COMPLETE_DATA: {\n      return {\n        ...state,\n        data: [...state.data].sort((a, b) => b.completed - a.completed),\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(\n  reducer,\n  applyMiddleware(thunk),\n);\n","import React from 'react';\n\nfunction User({ user }) {\n  return (\n    <div className=\"user-info\">\n      <p>\n        <strong>{user.name}</strong>\n      </p>\n      <a href={'mailto:${user.email}'}>{user.email}</a>\n      <p>{user.phone}</p>\n      <a href={'${user.website}'}>{user.website}</a>\n    </div>\n  );\n}\n\nexport default User;\n","import React from 'react';\nimport User from '../User/User';\nimport './TodoItem.css';\n\nfunction TodoItem({ todo }) {\n  return (\n    <div className={todo.completed ? 'todo-item__complete' : 'todo-item__not-complete'}>\n      <h2>{todo.title}</h2>\n      <p>{todo.completed ? 'Completed' : 'Not completed'}</p>\n      <User user={todo.user} />\n    </div>\n  );\n}\n\nexport default TodoItem;\n","import React from 'react';\nimport TodoItem from '../TodoItem/TodoItem';\nimport './TodoList.css';\n\nfunction TodoList({ dataFromServer }) {\n  console.log(dataFromServer);\n  return (\n    <div className=\"todos-list\">\n      {dataFromServer.map(item => <TodoItem todo={item} key={item.id} />)}\n    </div>\n  );\n}\n\nexport default TodoList;\n","import React from 'react';\nimport TodoList from '../components/TodoList/TodoList';\nimport './App.css';\n\nclass App extends React.PureComponent {\n  render() {\n    console.log(this.props.isLoading);\n    if (this.props.isLoading) {\n      return (\n        <div className=\"app\">\n          <p>Loading ...</p>\n        </div>\n      );\n    }\n\n    if (this.props.data.length === 0) {\n      return (\n        <div className=\"start\">\n          <button className=\"start-button\" type=\"button\" onClick={this.props.getData}>Show</button>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"app\">\n        <h1>Dynamic list of todos</h1>\n        <button className=\"button-sort\" type=\"button\" onClick={this.props.sortData}>Task </button>\n        <button className=\"button-sort\" type=\"button\" onClick={this.props.completeData}>Complete </button>\n        <TodoList\n          dataFromServer={this.props.data}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { connect } from 'react-redux';\nimport App from './App';\nimport { getData, sortData, completeData } from '../store/store';\n\nconst mapDispatchToProps = dispatch => ({\n  getData: () => dispatch(getData()),\n  sortData: () => dispatch(sortData()),\n  completeData: () => dispatch(completeData())\n});\n\nconst EnhancedApp = connect(\n  state => ({ data: state.data, isLoading: state.isLoading }),\n  mapDispatchToProps,\n)(App);\n\nexport {\n  EnhancedApp as App,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store';\nimport { App } from './App/index';\n\nReactDOM.render((\n  <Provider store={store}>\n    <App />\n  </Provider>\n), document.getElementById('root'));\n"],"sourceRoot":""}